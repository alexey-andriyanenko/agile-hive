syntax = "proto3";

option csharp_namespace = "ProjectService.gRPC";

package project;

import "google/protobuf/empty.proto";
import "Protos/project-types.proto";

service ProjectService {
  rpc Create (CreateProjectRequest) returns (project.types.ProjectDto);
  rpc GetById (GetProjectByIdRequest) returns (project.types.ProjectDto);
  rpc Update (UpdateProjectRequest) returns (project.types.ProjectDto);
  rpc Delete (DeleteProjectRequest) returns (google.protobuf.Empty);
}

message CreateProjectRequest {
  string name = 1;
  string description = 2;
  string organizationId = 3;
  string slug = 4;
  project.types.ProjectVisibility visibility = 5;
  repeated CreateProjectWithUserItem members = 6;
}

message CreateProjectWithUserItem {
  string projectId = 1;
  string userId = 2;
  project.types.ProjectMemberRole role = 3;
}

message GetProjectByIdRequest {
  string id = 1;
}

message UpdateProjectRequest {
  string id = 1;
  string name = 2;
  string description = 3;
  string slug = 4;
  project.types.ProjectVisibility visibility = 5;
}

message DeleteProjectRequest {
  string id = 1;
}
